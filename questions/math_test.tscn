[gd_scene load_steps=2 format=3 uid="uid://dxs4f0jkm47jc"]

[sub_resource type="GDScript" id="GDScript_oty4h"]
script/source = "extends CanvasLayer

class_name MathTest

@onready var question_label: Label = $Control/Label
@onready var button1: Button = $Control/Button1
@onready var button2: Button = $Control/Button2
@onready var button3: Button = $Control/Button3
@onready var button4: Button = $Control/Button4

var correct_answer: int = -1

func _ready() -> void:
	hide()  # Inicialmente esconde a HUD
	button1.connect(\"pressed\", Callable(self, \"_on_button_pressed\").bind(0))
	button2.connect(\"pressed\", Callable(self, \"_on_button_pressed\").bind(1))
	button3.connect(\"pressed\", Callable(self, \"_on_button_pressed\").bind(2))
	button4.connect(\"pressed\", Callable(self, \"_on_button_pressed\").bind(3))

func show_question(question: String, choices: Array[String], correct_index: int) -> void:
	print(\"Question:\", question)
	print(\"Choices:\", choices)
	print(\"Correct index:\", correct_index)

	question_label.text = question
	button1.text = choices[0]
	button2.text = choices[1]
	button3.text = choices[2]
	button4.text = choices[3]

	correct_answer = correct_index  # Usar o Ã­ndice diretamente
	print(\"Set correct_answer to:\", correct_answer)
	show()

func _on_button_pressed(button_index: int) -> void:
	print(\"Button pressed index:\", button_index)
	print(\"Correct answer index:\", correct_answer)
	if button_index == correct_answer:
		print(\"Correct Answer!\")
		hide()
	else:
		print(\"Wrong Answer!\")
"

[node name="CanvasLayer" type="CanvasLayer"]
script = SubResource("GDScript_oty4h")

[node name="Control" type="VBoxContainer" parent="."]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 4
alignment = 1

[node name="Label" type="Label" parent="Control"]
layout_mode = 2

[node name="Button1" type="Button" parent="Control"]
layout_mode = 2

[node name="Button2" type="Button" parent="Control"]
layout_mode = 2

[node name="Button3" type="Button" parent="Control"]
layout_mode = 2

[node name="Button4" type="Button" parent="Control"]
layout_mode = 2
